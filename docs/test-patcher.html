<!DOCTYPE html>
<html translate="no">
<head>
	<title>ROM Patcher Test</title>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	
	<link rel="stylesheet" href="./patcher/rom-patcher-js/style.css" />
	<script src="./patcher/rom-patcher-js/RomPatcher.webapp.js"></script>
	
	<script>
		window.addEventListener('load', function() {
			try {
				RomPatcherWeb.initialize({
					language: 'en',
					requireValidation: false,
					allowDropFiles: true
				}, {
					file: '../patches/emerald/Emerald_Enhanced_v11.010.xdelta',
					name: 'Pokemon Emerald Enhanced (v11.010)',
					description: 'Enhanced version of Pokemon Emerald',
					outputName: 'Pokemon Emerald (Enhanced)'
				});
			} catch(err) {
				document.getElementById('rom-patcher-container').innerHTML = 'Error: ' + err.message;
				document.getElementById('rom-patcher-container').style.color = 'red';
			}
		});
	</script>
	
	<style>
		body {
			font: 15px sans-serif;
			background: #1a1a1a;
			color: #e4e4e6;
			padding: 2rem;
		}
		header {
			text-align: center;
			margin-bottom: 2rem;
		}
	</style>
</head>
<body>
	<header>
		<h1>ROM Patcher Test Page</h1>
		<p>Testing RomPatcher.js integration with existing patches</p>
	</header>
	
	<div id="rom-patcher-container">
		<div class="rom-patcher-row margin-bottom" id="rom-patcher-row-file-rom">
			<div class="text-right"><label for="rom-patcher-input-file-rom">ROM file:</label></div>
			<div class="rom-patcher-container-input">
				<input type="file" id="rom-patcher-input-file-rom" class="empty" disabled />
			</div>
		</div>
		
		<div class="margin-bottom text-selectable text-mono text-muted" id="rom-patcher-rom-info">
			<div class="rom-patcher-row">
				<div class="text-right">CRC32:</div>
				<div class="text-truncate"><span id="rom-patcher-span-crc32"></span></div>
			</div>
			<div class="rom-patcher-row">
				<div class="text-right">MD5:</div>
				<div class="text-truncate"><span id="rom-patcher-span-md5"></span></div>
			</div>
			<div class="rom-patcher-row">
				<div class="text-right">SHA-1:</div>
				<div class="text-truncate"><span id="rom-patcher-span-sha1"></span></div>
			</div>
		</div>
		
		<div class="rom-patcher-row margin-bottom" id="rom-patcher-row-file-patch">
			<div class="text-right"><label for="rom-patcher-select-patch">Patch file:</label></div>
			<div class="rom-patcher-container-input">
				<select id="rom-patcher-select-patch"></select>
			</div>
		</div>
		
		<div class="rom-patcher-row margin-bottom" id="rom-patcher-row-patch-description">
			<div class="text-right text-mono text-muted">Description:</div>
			<div class="text-truncate" id="rom-patcher-patch-description"></div>
		</div>
		
		<div class="text-center" id="rom-patcher-row-apply">
			<div id="rom-patcher-row-error-message" class="margin-bottom">
				<span id="rom-patcher-error-message"></span>
			</div>
			<button id="rom-patcher-button-apply" disabled>Apply patch</button>
		</div>
	</div>
</body>
</html>
